From emax at chalmers.se  Mon Aug 15 11:31:22 2011
From: emax at chalmers.se (Emil Axelsson)
Date: Mon, 15 Aug 2011 11:31:22 +0200
Subject: [Haskell-cafe] library on common sub-expression elimination?
In-Reply-To: <4E45F215.4020406@gmail.com>
References: <CADDxdqNzqP1cRfqvHpWB30iaB+jpnTiQ6JJOaAZMb-to2h1Baw@mail.gmail.com>	<CAB2TPRBzH8=cH53GrYF6Gp8yFB8tSh7SAgRdiqqrYroWsZbL4A@mail.gmail.com>	<CADDxdqPHqr_Bn+hPAzfJZEW+2a+jPqUP-AaFrRjyPBszLhO_Xg@mail.gmail.com>	<CAB2TPRApFDU+QV8-2D=KsO6iRCxwH+AfLfF-vpzuE7y05e0zyA@mail.gmail.com>	<CAOHoMsnKcj1XQWtf4jjTpoSA5EMNFF0WjtHKsG2w=o7ubqw_Mw@mail.gmail.com>	<CAD6SzR+vyksmNWr+ZbxByf5wjKrH47oHjRA79EtgAKn34smGXg@mail.gmail.com>
	<4E45F215.4020406@gmail.com>
Message-ID: <4E48E76A.60101@chalmers.se>

2011-08-13 05:40, Levent Erkok skrev:
> On 8/12/2011 10:30 AM, Conal Elliott wrote:
>> Note that data-reify will only find *some* common/equal sub-expressions,
>> namely the pointer-equal ones. In all of my code-generating ("deep")
>> DSLs, it's been very important for efficiency to also pull out
>> equal-but-pointer-unequal expressions.
>>
>>      - Conal
>
> data-reify-cse (http://hackage.haskell.org/package/data-reify-cse) by
> Sebastiaan Visser performs cse for graphs generated by Andy's data-reify.
>
> -Levent.

I just wanted to point out that syntactic

   http://hackage.haskell.org/package/syntactic

also has the functionality provided by data-reify and data-reify-cse. 
See Examples/NanoFeldspar/Test.hs for a demonstration. The reification 
part is more or less copied from data-reify, so it's conceptually doing 
the same thing.

When it comes to graph reification, syntactic doesn't really offer 
anything more than what data-reify(-cse) does. But in the future, 
syntactic will also rebuild an expression with let binding from the graph.

/ Emil


